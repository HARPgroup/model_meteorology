#!/bin/csh

set VARS = ( PP TT WD )

set GRIDS = ( 393 108 393 114 393 111 388 113 389 115 394 106 387 110 394 111 399 107 395 104 396 105 397 106 387 111 392 108 395 107 394 104 388 106 389 105 389 106 390 105 394 105 398 106 385 107 386 107 387 107 389 107 391 107 392 107 393 107 394 107 382 108 384 108 385 108 388 108 390 108 394 108 399 108 383 109 387 109 388 109 389 109 390 109 391 109 393 109 395 109 384 110 390 110 391 110 390 111 391 111 388 111 388 112 389 112 391 112 389 113 390 113 389 114 390 114 392 113 391 113 388 114 388 115 391 114 392 114 390 116 391 116 391 115 392 115 393 115 394 115 393 116 392 117 393 117 394 117 )

set NGRIDS = ${#GRIDS}

@ NGRIDS = $NGRIDS / 2

echo $NGRIDS

set IGRID = 1

while ( $IGRID <= $NGRIDS )
   @ X = ($IGRID - 1) * 2 + 1
   @ Y = $IGRID * 2
   #echo $X $Y
   set GX = $GRIDS[$X]
   set GY = $GRIDS[$Y]
   echo "... processing $GX $GY"
   foreach VAR ( $VARS )
      #ls -l  OUTPUT_20191220/*/x${GX}y${GY}z${VAR}.txt 
      cat OUTPUT_20191220/*/x${GX}y${GY}z${VAR}.txt > combined_2003_2019_MD_grids/x${GX}y${GY}z${VAR}.txt
   end 
   @ IGRID = $IGRID + 1
end
